# AudioClassification


Clone the repo into a desired location. In this example we will use the local Desktop and install the module. 
## Installation:
    cd ~/Desktop
    git clone https://github.com/hoergems/AudioClassification.git
    mkdir Observation && cd Observation
    mkdir src
    ln -s ~/Desktop/AudioClassification/ObservationService ~/Desktop/Observation/src
    catkin_make
    cd ~/Desktop
    cd AudioClassification && mkdir build && cd build
    source ~/Desktop/Observation/devel/setup.bash
    cmake -DCMAKE_INSTALL_PREFIX=<install folder> -DUSE_ARM_HACK=ON ..
    make && make install

## Usage
On the MOVO2 computer, open a terminal and run

    movostop

Then run

    roslaunch movo_bringup_simple main.launch

On your computer, open 3 terminal windows. On the first window run the following commands : 

    source <install folder>/share/oppt/setup.sh
    source ~/Desktop/ObservationService/devel/setup.bash
    cd <oppt folder>/bin
    ./abt --cfg <folder where this repo is cloned into>/cfg/AudioClassification.cfg

On the second window run the following commands : 

    source <install folder>/share/oppt/setup.sh
    source ~/Desktop/ObservationService/devel/setup.bash
    rosrun ObservationService serviceNode.py


On the third window run the following commands : 

    source <install folder>/share/oppt/setup.sh
    source ~/Desktop/ObservationService/devel/setup.bash
    rosrun ObservationService listener.py

![Alt text](block_diagram.jpeg)



Python Speech Features module used for MFCC calculation is owned by James Lyons (https://github.com/jameslyons/python_speech_features).

ObservationService is a ros package that contains two ros nodes developed by Jihirshu Naraya. The first ROS node runs a listener module that is responsible for capturing and saving Observations when they are generated by the robot's interaction with the object. The second node runs an observation service that analyzes the captured observation, classifies it to one of the object classes defined by the observation model and returns the same as observation.
